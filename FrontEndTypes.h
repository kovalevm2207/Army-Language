#ifndef FRONTENDTYPES
#define FRONTENDTYPES

#include <stdio.h>


//~~~~~~~~~~~~~~~~~~~~//
//  Lexical Analysis  //
//~~~~~~~~~~~~~~~~~~~~//

typedef enum
{
    NUM_TOKEN,
    START_TOKEN,
    HLT_TOKEN,
    KEY_WORD_TOKEN,
    MATH_TOKEN,
    COMPARE_TOKEN,
    IN_FUNC_TOKEN,
    FUNC_TOKEN,
    VAR_TOKEN,
    EMPTY_TOKEN
} TokenType_t;

const char* const TokenTypesNames[]
{
    "NUM_TOKEN",
    "START_TOKEN",
    "HLT_TOKEN",
    "KEY_WORD_TOKEN",
    "MATH_TOKEN",
    "COMPARE_TOKEN",
    "IN_FUNC_TOKEN",
    "FUNC_TOKEN",
    "VAR_TOKEN",
    "EMPTY_TOKEN"
};

typedef enum
{
    //START_TOKENS:
    ST_1, ST_2, ST_3, ST_4,
    //HLT_TOKEN:
    HLT_1, HLT_2,
    //KEY_WORD_TOKENS:
    L_FIG, R_FIG, L_RND, R_RND,
    BEGING, END,
    FUNC_DEC, VAR_DEC, FUNC_CALL,
    //MATH_TOKENS:
    AST, ADD, SUB, DIV, MUL, MOD,
    //COMPARE_TOKENS:
    GREATER, GREATER_EQ, LESS, LESS_EQ, N_EQ, EQ,
    //IN_FUNC_TOKENS:
    IF, WHILE, PRINT, IN, RET,
    //FUNC_TOKENS:
    FUNC_NAME,
    //VAR_TOKENS:
    VAR_NAME,
    //SERVICE TYPE
    LINKER,
    //EMPTY_TOKENS:
    UNKNOWN
} Word_t;

const char* const WordsTypesNames[]
{
    "ST_1", "ST_2", "ST_3", "ST_4",
    "HLT_1", "HLT_2",
    "L_FIG", "R_FIG", "L_RND", "R_RND",
    "BEGING", "END",
    "FUNC_DEC", "VAR_DEC", "FUNC_CALL",
    "AST", "ADD", "SUB", "DIV", "MUL", "MOD",
    "GREATER", "GREATER_EQ", "LESS", "LESS_EQ", "N_EQ", "EQ",
    "IF", "WHILE", "PRINT", "IN", "RET",
    "FUNC_NAME",
    "VAR_NAME",
    "UNKNOWN",
    "LINKER"
};

typedef union
{
    int    num;  //num - its data
    size_t name; //var/func - its number of name
    Word_t word; //other - enum
} TokenData_t;

typedef struct
{
    TokenType_t type;
    TokenData_t data;
} Token_t;


//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~//
//  Arrows for Lexical Analysis  //
//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~//

typedef const struct
{
    const Word_t      num;
    const char* const name;
} TokenInfo_t;

TokenInfo_t Start[] =
{
    {ST_1, "Становись!"            },
    {ST_2, "Равняйсь!"             },
    {ST_3, "Смирно!"               },
    {ST_4, "Равнение_на_середину!" }
};

const size_t START_NUM = sizeof(Start)/sizeof(Start[0]);

TokenInfo_t Hlt[] =
{
    {HLT_1, "Вольно!"    },
    {HLT_2, "Разойдись!" }
};

const size_t HLT_NUM = sizeof(Hlt)/sizeof(Hlt[0]);

TokenInfo_t KeyWord[] =
{
    {L_FIG,     "Только_попробуйте_сделать_по_другому" },
    {R_FIG,     "Ноги_руки_оторву"                     },
    {L_RND,     "Быстро_на"                            },
    {R_RND,     "Кому_сказал_на"                       },
    {BEGING,    "Чтобы"                                },
    {END,       "Уяснил_солдат!?"                      },
    {FUNC_DEC,  "Слушай_боевую_задачу!"                },
    {VAR_DEC,   "С_этого_момента"                      },
    {FUNC_CALL, "Приступаем_к_операции"                }
};

const size_t KEY_WORD_NUM = sizeof(KeyWord)/sizeof(KeyWord[0]);

TokenInfo_t Math[] =
{
    {AST, "Есть_ничто_иное_как"  },
    {ADD, "Перекрестие"          },
    {SUB, "Себе_в_минус"         },
    {DIV, "Отбива"               },
    {MUL, "Не_звезди"            },
    {MOD, "Вражеская_разработка" }
};

const size_t MATH_NUM = sizeof(Math)/sizeof(Math[0]);

TokenInfo_t Compare[] =
{
    {GREATER,    "Больше_нарядов_вне_очереди" },
    {GREATER_EQ, "Только_не_включай"          },
    {LESS_EQ,    "Меньше_можно_больше_нельзя" },
    {LESS,       "Укради_роди_найди"          },
    {N_EQ,       "Руки_убрал"                 },
    {EQ,         "Неотъемлемая_часть"         }
};

const size_t COMPARE_NUM = sizeof(Compare)/sizeof(Compare[0]);

TokenInfo_t InFunc[] =
{
    {IF,    "Не_дай_бог_блять"              },
    {WHILE, "Пидорасишь"                    },
    {PRINT, "Громко_и_четко_назови"         },
    {IN,    "Разведать_обстановку"          },
    {RET,   "Только_попробуйте_съебаться_с" }
};

const size_t In_FUNC_NUM = sizeof(InFunc)/sizeof(InFunc[0]);

const char* const Vars[]=
{
    "Солдат",             "ДлинаШеренги",   "ДлинаКолонны",   "Широта",        "Долгота",
    "Полк",               "Батальон",       "Дивизия",        "Армия",         "Отряд",
    "Часовой",            "Дозорный",       "Снайпер",        "Сапер",         "Связист",
    "Боезапас",           "Патроны",        "Гранаты",        "Мины",          "Взрывчатка",
    "Карта",              "Компас",         "Часы",           "Фонарь",        "Нож",
    "КоординатаX",        "КоординатаY",    "Скорость",       "Время",         "Температура",
    "Укрепление",         "Окоп",           "Блиндаж",        "Дзот",          "Каземат",
    "Пароль",             "Отзыв",          "КодовоеСлово",   "Шифр",          "Ключ",
    "Урон",               "Потери",         "Раненые",        "Убитые",        "Пленные",
    "Мораль",             "Дисциплина",     "Усталость",      "Голод",         "Жажда",
    "Зарплата",           "Премия",         "Надбавка",       "Штраф",         "Взыскание",
    "Срок",               "Очередь",        "Очередность",    "Приоритет",     "ОчередьНаОтпуск",
    "Очко",               "Шухер",          "Дневальный",     "Дежурный",      "Комбат",
    "ПозицияВрага",       "СигналТревоги",  "Рота",           "Взвод",         "Отделение",
    "Высота",             "Азимут",         "Дистанция",      "Сектор",        "Рубка",
    "Разведчик",          "Пулеметчик",     "Гранатометчик",  "Медик",         "Повар",
    "Продовольствие",     "Вода",           "Топливо",        "Бинокль",       "Рация",
    "Лопатка",            "Плащпалатка",    "Противогаз",     "Аптечка",       "Жгут",
    "Видимость",          "Влажность",      "Давление",       "Ветер",         "Осадки",
    "Траншея",            "ХодСообщения",   "ПостНаблюдения", "КПП",           "Караул",
    "Шифроблокнот",       "Радиочастота",   "Позывной",       "Пеленг",        "Засечка",
    "Трофеи",             "Захваченное",    "Уничтоженное",   "Поврежденное",  "Списанное",
    "Обморожение",        "Травма",         "Болезнь",        "Инфекция",      "Карантин",
    "Поощрение",          "Награда",        "Орден",          "Медаль",        "Значок",
    "ОчередьНаПовышение", "Стаж",           "Звание",         "Должность",     "Специальность",
    "Гражданские",        "Ракеты",         "Магазины",       "Рана",          "Маршбросок"
};

const size_t VARS_NUM = sizeof(Vars)/sizeof(Vars[0]);

const char* const Functions[]=
{
    "ВыполнитьПриказГенерала",            "ВыполнитьПриказПолковника",          "ВыполнитьПриказПодполковника",       "ВыполнитьПриказМайора",              "ВыполнитьПриказКапитана",
    "ВыполнитьПриказСтрашегоЛейтенента",  "ВыполнитьПриказЛейтенента",          "ВыполнитьПриказМладшегоЛейтенанта",  "ВыполнитьПриказСтаршегоПрапорщика",  "ВыполнитьПриказПрапорщика",
    "ВыполнитьПриказСтрашины",            "ВыполнитьПриказМладшегоПрапорщика",  "СтоятьНаСмерть",                     "БуксоватьЕбалом",                    "СтоятьКакБыкНассал",
    "НайтиПричину",                       "НайтиШпиона",                        "ОтразитьАтаку",                      "ЗанятьВысоту",                       "ОбеспечитьПрикрытие",
    "ПровестиРазведку",                   "УничтожитьЦель",                     "ОрганизоватьОборону",                "ПодготовитьЗасаду",                  "ЭвакуироватьРаненых",
    "ЗахватитьПленных",                   "СкрытьСледы",                        "ПодорватьОбъект",                    "ПередатьШифровку",                   "ЗакрепитьПозиции",
    "ОтправитьДозор",                     "СвязатьсяСЦентром",                  "ЗаблокироватьПодходы",               "СоздатьПомехи",                      "ОпределитьКоординаты",
    "ПодавитьОгонь",                      "ВзорватьМост",                       "ЗаминироватьУчасток",                "ВзятьЯзыка",                         "СымитироватьАтаку",
    "СменитьПозицию",                     "УстановитьНаблюдение",               "СфальсифицироватьДокументы",         "ОбезвредитьМину",                    "НавестиАртиллерию",
    "ЗапуститьДрон",                      "РасширитьПлацдарм",                  "ЗахватитьДокументы",                 "СоздатьДиверсию",                    "ОбнаружитьЗасаду",
    "ТихоСпиздитьИУйти",                  "НарватьсяНаПатруль",                 "ПроебатьАвтомат",                    "НайтиПриключенийНаЗадницу",          "ВозомнитьСебяУмным",
    "ЗанятьПлацдарм",                     "ПодсчитатьПотери",                   "ОценитьСитуацию",                    "МобилизоватьРезервы",                "КоординироватьУдар",
    "МаскироватьТехнику",                 "ПроникнутьВШтаб",                    "ВывестиИзСтроя",                     "СобратьДанные",                      "ДоложитьПоЦепочке",
    "ЗапуститьРакету",                    "РасшифроватьПерехват",               "РассчитатьТраекторию",               "ПодтвердитьПароль",                  "ОткрытьШквальныйОгонь",
    "ЗаложитьВзрывчатку",                 "ПровестиКонтрразведку",              "ЗахватитьПередачу",                  "НейтрализоватьСнайпера",             "ПрорватьОборону",
    "ОкружитьПротивника",                 "ОтбитьАтаку",                        "ЗанятьКлючевуюТочку",                "ВестиНаблюдение",                    "ЗасечьПередвижения",
    "СобратьРазведданные",                "КонтролироватьУчасток",              "ОбнаружитьТехнику",                  "ДоставитьБоеприпасы",                "ВосстановитьСвязь",
    "ЭвакуироватьТехнику",                "СоздатьЗапаснойПункт",               "КоординироватьПодкрепление",         "ПроникнутьВТылы",                    "ДезинформироватьПротивника",
    "ЗахватитьШифровальщика",             "СоздатьЛожнуюЦель",                  "ВывестиИзСтрояСистему",              "ПротестироватьРекурсию",             "ПоказатьВложенность",
    "Демо_ПриоритетОператоров",           "Демо_ВложенныеУсловия",              "Демо_ЦепочкаВызовов",                "Атаковать",                          "Защищаться",
    "Ждать",                              "Двигаться",                          "Стрелять",                           "Скрыться",                           "Преследовать",
    "Отступать",                          "Анализировать",                      "Реагировать",                        "ЗаложитьМины",                       "СнятьЧасовых",
    "ПерехватитьСообщение",               "СфабриковатьДоказательства",         "ИнфильтроватьсяВРяды",               "СорватьПереговоры",                  "ЗаблокироватьДороги",
    "СоздатьУчебнуюТревогу",              "ПровестиУчения",                     "ОтчитатьсяОРезультатах",             "ЗапроситьПоддержку",                 "СкорректироватьОгонь",
    "ОбойтиСФланга",                      "УстроитьЗавалы",                     "ПоджечьСклады",                      "ОтравитьВодоем",                     "ВыкрастьЧертежи",
    "ВнедритьАгента",                     "СкомпрометироватьКомандира",         "УстроитьБунт",                       "СымитироватьПоломку",                "ПодкупитьЧасового",
    "УстроитьДиверсиюНаЖД",               "ПеререзатьЛинииСвязи",               "УничтожитьСклады",                   "ЗахватитьРадиостанцию",              "ВзятьВКольцо",
    "ВыставитьПосты",                     "ПроверитьДокументы",                 "ОбыскатьМестность",                  "ЗадержатьПодозреваемого",            "ДопроситьПленного",
    "СвернутьЛагерь",                     "РазвернутьШтаб",                     "НавестиПорядок",                     "ВыдатьПатроны",                      "ПровестиСмотр",
    "ОтправитьДонесение",                 "ПринятьШифровку",                    "СменитьКодовоеСлово",                "ЗапуститьДымовуюЗавесу",             "ПоставитьМинометы",
    "ЗанятьОкопы",                        "ВырытьУкрытия",                      "УстановитьКолючку",                  "НатянутьМаскировку",                 "ПодвезтиПродовольствие",
    "МозолитьГлаза"
};

const size_t FUNCTIONS_NUM = sizeof(Functions)/sizeof(Functions[0]);

const struct
{
    TokenInfo_t* arrow;
    const size_t len;
    TokenType_t  type;
} NotNameArrows[] =
{
    {Start,     START_NUM,     START_TOKEN    },
    {Hlt,       HLT_NUM,       HLT_TOKEN      },
    {KeyWord,   KEY_WORD_NUM,  KEY_WORD_TOKEN },
    {Math,      MATH_NUM,      MATH_TOKEN     },
    {Compare,   COMPARE_NUM,   COMPARE_TOKEN  },
    {InFunc,    In_FUNC_NUM,   IN_FUNC_TOKEN  }
};

const size_t NOT_NAME_ARROWS_NUM = sizeof(NotNameArrows)/sizeof(NotNameArrows[0]);


//~~~~~~~~~~~~~~~~~~~//
//  Syntax Analysis  //
//~~~~~~~~~~~~~~~~~~~//

typedef enum
{
    NUM,   // --> NodeData_t.num  --> int --> data of the number
    OP,    // --> NodeData_t.word --> enum word_t
    VAR,   // --> NodeData_t.name --> size_t = index in the arr
    FUNC   // --> NodeData_t.name --> size_t = index in the arr
} NodeType_t;

const char* const NodeTypes[] = {"NUM", "OP", "VAR", "FUNC"};

#endif//FRONTENDTYPES
